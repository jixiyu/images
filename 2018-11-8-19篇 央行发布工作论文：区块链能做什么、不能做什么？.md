> 链——区块链   
> 2018年11月8日10:03:59       
> 19 篇  
>made by jixi  
>addr——https://mp.weixin.qq.com/s/e5PIqN4R53MqOs55qEZNHg

### 央行发布工作论文：区块链能做什么、不能做什么？

论文称，不要夸大或迷信区块链的功能。区块链应用要立足实际情况。目前区块链投**融资领域泡沫明显**。

----------
### 零碎知识点：  
1. GoldmanSachs（2016）讨论了区块链在<b>共享经济、智能电网、房地产保险、股票市场、回购市场、杠杆贷款交易以及反洗钱</b>（anti-moneylaundering，简称是AML）和<b>“了解你的客户”（knowyourcustomer，简称是KYC）</b>中的应用。
2. 中国区块链技术和产业发展论坛2016年10月发布的<b>《中国区块链技术和应用发展白皮书（2016）》</b>讨论了区块链在<b>金融服务、供应链管理、文化娱乐、智能制造、社会公益和教育就业</b>等领域的应用场景。  
3. 很多从业者和研究者讨论如何提高区块链物理性能，包括<b>中继网络（relaynetwork）、分片（sharding）、增加区块大小、隔离见证（SegWit）、有向无环图结构（DAG）、跨链、侧链、状态通道（以比特币闪电网络为代表）以及压缩交易信息的技术（比如Mimblewimble）</b>等。  
4. 袁煜明和刘洋（2018）对这些方向做了全面介绍。 ——3  
5. 袁勇等（2018）综述了常见的区块链共识算法。在一些应用场景中使用联盟链或私有链而非公有链，也是绕开区块链物理性能瓶颈的重要方面。   


### 1. 摘要
1. 首先，在给出区块链技术的经济学解释的基础上，归纳出目前主流区块链系统采取的“Token范式”，厘清与区块链有关的**共识和信任**这两个基础概念，并梳理**智能合约的功能**。
2. 其次，根据对区块链内Token的使用情况，梳理了目前区块链的主要应用方向
3. 再讨论Token的特征、Token对区块链平台型项目的影响、区块链的治理功能以及区块链系统的性能和安全性等问题
4. 最后总结并讨论区块链能做什么、不能做什么。

----------

### 2. 区块链发展
1. 2009年1月，比特币网络上线标志着区块链应用落地。  
2. 但从那时至今近10年时间里，除了加密货币（cryptocurrency）发行和交易之外，区块链没有得到大规模应用。  
3. 截至2018年10月31日，CoinMarketCap网站统计了全球范围内的2086个加密货币和15545个加密货币交易所，全体加密货币的市值约2035亿美元（其中比特币市值占比为54%），过去24小时交易量约106亿美元；  
4. 但DappRadar网站统计了以太坊及其上1137个分布式应用，发现过去24小时活跃用户数只有12521人，其中只有2个分布式应用的24小时活跃用户数超过或接近1000人，而且比较活跃的分布式应用集中在游戏、博彩和加密资产交易等与实体经济关系不大的领域。  
5. 普华永道会计师事务所2018年8月对15个国家的600名公司高管的调查发现，有84%的公司对区块链感兴趣，但52%的公司的区块链项目处于研发状态，10%的公司有区块链试点项目，只有15%的公司有正在运行的区块链项目。  

发展问题：  
1. 区块链没能大规模应用的一个重要原因是物理性能不高（特别对公有链）  
2. 比如，比特币每秒钟最多支持6笔交易，而Paypal平均每秒钟能支持193笔交易，Visa平均每秒钟能支持1667笔交易。
3. 很多从业者和研究者讨论如何提高区块链物理性能，包括中继网络（relaynetwork）、分片（sharding）、增加区块大小、隔离见证（SegWit）、有向无环图结构（DAG）、跨链、侧链、状态通道（以比特币闪电网络为代表）以及压缩交易信息的技术（比如Mimblewimble）等。  
4. 提高区块链物理性能的另一个重要方向是改进共识算法（consensusalgorithm），特别是从工作量证明（proofofwork，简称是POW）转向权益证明（proofofstake，简称是POS）。袁勇等（2018）综述了常见的区块链共识算法。在一些应用场景中使用联盟链或私有链而非公有链，也是绕开区块链物理性能瓶颈的重要方面。  

----------

### 3. 区块链的Token范式  
1. 共识算法针对区块链内的Token。Token本质上是区块链内定义的状态变量，Token可以在区块链内不同地址之间转让，转让过程中Token总量不变（也就是在转出地址减少1个Token的同时，转入地址增加1个Token）。有些区块链系统限定了Token的总量上限，比特币就属于这种情况。  
2. Token在区块链内不同地址之间转让时，Token的状态（指区块链内各地址内有多少Token）更新和交易确认同步发生。比如，Alice向Bob转了一笔比特币，这笔比特币交易被记入区块链的同时（也就是交易被打包进某一区块并接入区块链），Alice和Bob对应公钥的UTXO（可以理解为比特币区块链内的账户余额）同时更新。因此，Token被交易时，不会形成传统意义上的结算在途资金或结算风险。
3. Token与智能合约之间有密不可分的联系。Token本身是智能合约的体现。比如，以以太坊ERC20为代表的Token合约规定Token的总量、发行规则、转让规则和销毁规则等一系列逻辑。Token合约管理着一系列状态，记录哪些地址有多少Token等账本信息。在Token合约的基础上，可以构建对Token执行复杂操作的智能合约。这些智能合约执行的结果主要是，Token的状态发生变更。
4. 按照是否与Token的状态和交易有关，区块链内的信息分成两类——有关系的和没有关系的，这两类信息在共识算法下有完全不一样的地位。节点在运行共识算法时，重点检验第一类信息是否符合预先定义的算法规则，第二类信息作为Token交易的附加信息写入区块链，节点不会检验这类信息的真实准确性。比如，比特币节点会检验随机数（nonce）是“挖矿”问题的解，以及区块中的交易在数据结构、语法规范性、输入输出和数字签名等方面符合预先定义的标准。但对比特币创世区块中的“TheTimes03/Jan/2009Chancelloronbrinkofsecondbailoutforbanks”，节点不会也没有能力验证这句话的真实准确性。
5. 区分这两类信息是理解区块链共识范围的关键。区块链共识针对与Token的状态和交易等有关的信息。比如，比特币共识决定了截至某一区块，各地址对应的UTXO数量以及地址之间转让比特币的记录。而区块链内与Token的状态或交易等无关的信息基本不属于共识的范围。特别是，区块链外信息写入区块链内的机制，一般被称为预言机（oraclemechanism）。如果区块链外信息在源头和写入环节不能保证真实准确，写入区块链内只意味着信息不可篡改，没有提升信息的真实准确性。但区块链有助于解决数据登记追溯问题，登记在区块链内的数据有可追溯的主体身份签名并可用于事后审计，而且上链数据的不可篡改性也有助于控制操作风险。
 


----------

### 4. 区块链内的共识和信任
目前对区块链共识的讨论，涉及三种不同语境下的共识概念——**机器共识、治理共识和市场共识**，其中治理共识和市场共识可以称为“人的共识”。很多误解就源于混淆了这三类共识，或者泛化了共识的范围和性质。

1. 第一，机器共识。机器共识属于分布式计算领域的问题，目标是在存在各种差错、恶意攻击以及可能不同步的对等式网络中（peer-to-peernetwork），并且在没有中央协调的情况下，确保分布式账本在不同网络节点上的备份文本是一致的（不是语义一致）。

    对等式网络的节点（特别是负责生成和验证区块的节点）有诚实节点和恶意节点之分。诚实节点遵守预先定义的算法规则（主要是共识算法），能完美地发送和接收消息，但其行为完全是机械性的。恶意用户可以任意偏离算法规则。在一定限制条件下（比如比特币要求50%以上算力由诚实节点掌握），算法规则保证了机器共识的可行性、稳定性和安全性。机器共识的范围限于区块链内与Token的状态和交易等有关的信息。

2. 第二，治理共识，指在群体治理中，群体成员发展并同意某一个对群体最有利的决策。比如，比特币社区关于“扩容”和分叉的讨论可以在治理共识框架下理解。治理共识的要素包括：1.不同的利益群体；2.一定治理结构和议事规则；3.相互冲突的利益或意见之间的调和折衷；4.对成员有普遍约束的群体决策。袁勇等（2018）指出，治理共识涉及人的主观价值判断，处理的是主观的多值共识，治理共识的参与者通过群体间协调和协作过程收敛到唯一意见，而此过程如果不收敛，就意味着治理共识的失败。

3. 第三，市场共识。Token参与交易时（不管是不同Token之间交易，还是Token与区块链外资产或权利交易），就涉及市场共识。市场共识体现在市场交易形成的均衡价格中。

三类共识之间存在紧密而复杂的关系。机器共识是对等式网络的节点运行算法规则的产物，治理共识反映由人（包括网络节点的拥有者或控制着）来制定或修改算法规则的过程。市场共识受机器共识和治理共识的影响。比如，如果分布式账本的安全性没有保障（即机器共识失效），比特币的市场价格将受到毁灭性冲击。再比如，2017年比特币社区对“SegWit2x”的讨论（即引入隔离见证并将单个区块的大小从1M提升到2M），对当时比特币价格走势有明显的影响，就体现了治理共识对算法共识的影响。下文如无特别说明，讨论的均是机器共识。

----------

##  附录基础知识

###  附1：图灵完备
简单判定图灵完备的方法就是看该语言能否模拟出图灵机图灵不完备的语言常见原因有循环或递归受限(无法写不终止的程序,如 while(true){}; ),   无法实现类似数组或列表这样的数据结构(不能模拟纸带).   这会使能写的程序有限图灵完备可能带来坏处, 如C++的模板语言,   模板语言是在类型检查时执行,   如果编译器不加以检查,我们完全可以写出使得C++编译器陷入死循环的程序.图灵不完备也不是没有意义, 有些场景我们需要限制语言本身. 如限制循环和递归,   可以保证该语言能写的程序一定是终止的.  



----------
###  附2：什么是图灵机
图灵机（Turing Machine）是图灵在1936年发表的 **"On Computable Numbers, with an Application to the Entscheidungsproblem"**（《论可计算数及其在判定性问题上的应用》）中提出的数学模型。既然是数学模型，它就并非一个实体概念，而是架空的一个想法。在文章中图灵描述了它是什么，并且证明了，只要图灵机可以被实现，就可以用来解决任何可计算问题。  

图灵机的结构包括以下几个部分：  
1. 一条无限长的纸带（tape），纸带被分成一个个相邻的格子（square），每个格子都可以写上至多一个字符（symbol）。
2. 一个字符表（alphabet），即字符的集合，它包含纸带上可能出现的所有字符。其中包含一个特殊的空白字符（blank），意思是此格子没有任何字符。
3. 一个读写头（head），可理解为指向其中一个格子的指针。它可以读取/擦除/写入当前格子的内容，此外也可以每次向左/右移动一个格子。
4. 一个状态寄存器（state register），它追踪着每一步运算过程中，整个机器所处的状态（运行/终止）。当这个状态从运行变为终止，则运算结束，机器停机并交回控制权。如果你了解有限状态机，它便对应着有限状态机里的状态。
5. 一个有限的指令集（instructions table），它记录着读写头在特定情况下应该执行的行为。可以想象读写头随身有一本操作指南，里面记录着很多条类似于“当你身处编号53的格子并看到其内容为0时，擦除，改写为1，并向右移一格。此外，令下一状态为运行。”这样的命令。其实某种意义上，这个指令集就对应着程序员所写下的程序了。
![enter description here](https://www.github.com/jixiyu/images3/raw/master/小书匠/1541643389454.png)



图灵机结构  
在计算开始前，纸带可以是完全空白，也可以在某些格子里预先就有写上部分字符作为输入。运算开始时，读写头从某一位置开始，严格按照此刻的配置（configuration），即：  

+ 当前所处位置  

+ 当前格子内容  

来一步步的对照着指令集去进行操作，直到状态变为停止，运算结束。而后纸带上留下的信息，即字符的序列（比如类似“...011001...”）便作为输出，由人来解码为自然语言。  

要重申一下，以上只是图灵机模型的内容，而非具体的实现。所谓的纸带和读写头都只是图灵提出的抽象概念。为便于理解打一个比方。算盘虽然不是图灵机（因为它没有无限长的纸带，即无限的存储空间），但它的行为与图灵机一致。每一串算珠都是纸带上的一格，一串算珠上展示的数字便记录着当前格中的字符（可以是空白，可以是 12345 ）。人类的手即是读写头，可以更改每串算珠的状态。算盘的运行遵循人脑中的算法，当算法结束，算盘停机。  

----------
###  附3：图灵机可以解决什么问题
在文章中，图灵所做的事是证明了，假设上述模型里所说的功能都能被以某种形式物理实现，那么任意可计算问题都可以被解决。这里所说的可计算问题，涉及到计算理论（Computation Theory）的概念。这个领域的概念很繁杂，先简单梳理一下。  

在计算机领域，或者说自动机领域，我们研究的一切问题都是计算问题（Computational Problem）。它泛指一切与计算相关的问题。

> A computational problem is a mathematical object representing a
> collection of questions that computers might be able to solve.

计算问题的一些举例：  
1. 给定一个正整数 n，判断它是否是质数  
2. 
2. 给定一个 01 序列，把它们按位取反  
3. 
3. 给定一个字符串，判断某个字符是否存在，及查找存在位置  
4. 
4. 给定一个逻辑蕴含的命题，求它的逆否命题  


非计算问题的例子：  
* 今晚吃什么  
* 为什么太阳从东边升起  


计算问题有的可以解决，有的不可解决。这就引出了计算问题的可计算性（Computability）。它可以被理解为“是否存在一个算法，能解决在任何输入下的此计算问题”。如上面的问题 1，我们当然可以找到一个算法来解决判断任意正整数 n 是否为质数的问题（比如从2遍历到 n-1，看 n 是否可以整除它）。所以，问题 1 就是可计算的。  

也有一些不可计算的计算问题，比如著名的停机问题（Halting Problem）。它的表述是这样的：给定一段程序的描述和该程序的一个有效输入，运行此程序，那么程序最终是会终止，还是会死循环下去？  

> Halting Problem: given the description of an arbitrary program and a
> finite input, decide whether the program finishes running or will run
> forever.  


这个问题很绕人，有点像那个著名的理发师悖论，但它确实是一个计算问题。更具体的，它是一个不可判定问题（Undecidable Problem）。即不存在一个通用算法，可以在任意输入下解决此问题。图灵在文章里很优雅的用反证法推翻了假设“假设有这么一个算法可以解决任何停机问题”，从而证明了这样的算法并不存在。具体证明过程网上的资料非常丰富，我就不再花篇幅了。  

回到这一节的主题。简而言之，对于一个问题，对于任意输入，只要人类可以保证算出结果（不管花多少时间），那么图灵机就可以保证算出结果（不管花多少时间）。  

----------
###  附1


----------
###  附1


----------


<img src="https://www.github.com/jixiyu/images3/raw/master/小书匠/1541557686265.png" width="500" hegiht="500" align="center" /> 

----------
## END

