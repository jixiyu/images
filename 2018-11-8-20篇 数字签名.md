> 密码学和共识算法  
> 2018年11月8日14:10:40       
> 20 篇  
>made by jixi

### 数字签名


----------


### 1. 签名的生成和验证

<b>生成消息签名</b>这一行为是由消息的发送者Alice来完成的，也成为“对消息签名”。生成签名就是根据消息内容计算数字签名的值，这给行为意味着“我认可该消息的内容”。  

<b>验证数字签名</b>这一行为一般是由消息的接受者Bob来完成的，但也可以有需要验证消息的第三方来完成，这里的第三方被命名为<b>验证者Victor</b>。  

公钥密钥和数字签名的结构非常相似。  

<b>在公钥密码中，密钥分为加密密钥和解密密钥，用加密密钥无法进行解密。此外，解密密钥只能由需要解密的人持有，而加密密钥则是任何需要加密的人都可以持有。</b>  


简而言之，数字签名就是将公钥密码反过来用而实现的。  

![enter description here](https://www.github.com/jixiyu/images3/raw/master/小书匠/1541660026894.png)

----------

### 2. 公钥密码与数字签名  

1. 公钥密码方式  

![enter description here](https://www.github.com/jixiyu/images3/raw/master/小书匠/1541660128189.png)  

2. 数字签名方式  

![enter description here](https://www.github.com/jixiyu/images3/raw/master/小书匠/1541660167682.png)  

3. 公钥密码中的角色  

![enter description here](https://www.github.com/jixiyu/images3/raw/master/小书匠/1541660254117.png)  


4. 数字签名中的角色  

由于公钥是对外公开的，因此任何人都能够用公钥进行解密，这就产生了一个很大的好处，即任何人都能够对签名进行验证。  



![enter description here](https://www.github.com/jixiyu/images3/raw/master/小书匠/1541660268668.png)

----------

### 3. 数字签名的方法  

* 直接对消息签名的方法  

* 对消息的散列值签名的方法  

对消息的散列值签名的方法稍微复杂一点，丹是集中我们一般都是用这种方法。  




----------

### 4. 直接对消息签名的方法  

> 准备：Alice需要事先生成密钥对，而需要验证签名的Bob则需要得到Alice的公钥。   


![enter description here](https://www.github.com/jixiyu/images3/raw/master/小书匠/1541661290754.png)  



**1. Alice用自己的私钥对消息进行加密。**  

用私钥加密得到的密文就是Alice对这条消息的签名,由于只有 Alice才持有自己的私钥,因此除了 Alice以外,其他人是无法生成相同的签名(密文)的。

**2. Aice将消息和签名发送给Bob**  

**3. Bob用Ace的公钥对收到的签名进行解密。**  

如果收到的签名确实是用Aice的私钥进行加密得到的密文(签名),那么用 Alice的公钥应该能够正确解密。如果收到的签名不是用 Alice的私钥进行加密得到的密文,那么就无法用 Alice的公钥正确解密(解密后得到的数据看起来是随机的)
    
**4. Bob将签名解密后得到的消息与Aice直接发送的消息进行对比。**      

  如果两者一致,则签名验证成功;如果两者不一致,则签名验证失败


----------

### 5. 对消息的散列值签名的方法  


**1. Aice用单向散列函数计算消息的散列值。**  

**2. Aice用自己的私钥对散列值进行加密。**  

用私钥加密散列值所得到的密文就是 Alice对这条散列值的签名,由于只有 Alice才持有自己的私钥,因此除了 Alice以外,其他人是无法生成相同的签名(密文)的。  

**3. Ace将消息和签名发送给Bob**  

**4. Bob用Ace的公钥对收到的签名进行解密。**  

如果收到的签名确实是用 Alice的私钥进行加密而得到的密文(签名),那么用Alce的公钥应该能够正确解密,解密的结果应该等于消息的散列值。如果收到的签名不是用Alice的私钥进行加密而得到的密文,那么就无法用 Alice的公钥正确解密(解密后得到的数据看起来是随机的)  

**4. Bob将签名解密后得到的散列值与Ace直接发送的消息的散列值进行对比。**  
 
如果两者一致,则签名验证成功;如果两者不一致,则签名验证失败。 
 


----------


### 6.生成签名和验证签名流程图  

![enter description here](https://www.github.com/jixiyu/images3/raw/master/小书匠/1541661448014.png)  



![enter description here](https://www.github.com/jixiyu/images3/raw/master/小书匠/1541661623003.png)

----------
## END
> 2018年11月8日15:19:02
