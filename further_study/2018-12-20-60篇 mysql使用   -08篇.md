> study  
> 2018年12月20日11:23:44       
> 60  
>made by jixi  

## Mysql数据库学习


----------


### 1. install

mac install (前提已经安装好了homebrew)  



``` xml
1. brew search mysql  

2. brew install mysql  

3. mysql.server start  
```

----------

### 2. 启动及查看状态、登录(记住有分号)  
启动 MySQL：  

``` xml
1. systemctl start mysqld  
```

查看 MySQL 运行状态：  

``` xml
2. systemctl status mysqld  
```

在成功安装 MySQL 后，一些基础表会表初始化，在服务器启动后，你可以通过简单的测试来验证 MySQL 是否工作正常。  
使用 mysqladmin 工具来获取服务器状态：  
使用 mysqladmin 命令俩检查服务器的版本, 在 linux 上该二进制文件位于 /usr/bin 目录，在 Windows 上该二进制文件位于C:\mysql\bin 。  

``` xml
3. mysqladmin --version  
```

陈列所有的数据库  

``` xml
4. SHOW DATABASES;  
```

![enter description here](https://www.github.com/jixiyu/images3/raw/master/小书匠/1545277637735.png)  

登录mysql  

``` xml
5. mysql -uroot   

6. mysql -u root -p  
```

当 MySQL 服务已经运行时, 我们可以通过 MySQL 自带的客户端工具登录到 MySQL 数据库中, 首先打开命令提示符, 输入以下格式的命名:  

参数说明：  

-h : 指定客户端所要登录的 MySQL 主机名, 登录本机(localhost 或 127.0.0。1)该参数可以省略;  
-u : 登录的用户名;  
-p : 告诉服务器将会使用一个密码来登录, 如果所要登录的用户名密码为空, 可以忽略此选项。  


``` xml
7. mysql -h 主机名 -u 用户名 -p  
```

----------


### 3. 用户设置  

1.  
如果你需要添加 MySQL 用户，你只需要在 mysql 数据库中的 user 表添加新用户即可。  

以下为添加用户的的实例，用户名为guest，密码为guest123，并授权用户可进行 SELECT, INSERT 和 UPDATE操作权限：  



``` nginx
root@host# mysql -u root -p  
Enter password:*******  
mysql> use mysql;  
Database changed  
```

``` 
mysql> INSERT INTO user    
          (host, user, password,  
           select_priv, insert_priv, update_priv)  
           VALUES ('localhost', 'guest',  
           PASSWORD('guest123'), 'Y', 'Y', 'Y');
           
           Query OK, 1 row affected (0.20 sec)  

mysql> FLUSH PRIVILEGES;  
Query OK, 1 row affected (0.01 sec)  

mysql> SELECT host, user, password FROM user WHERE user = 'guest';  
+-----------+---------+------------------+  
| host      | user    | password         |  
+-----------+---------+------------------+  
| localhost | guest | 6f8c114b58f2ce9e |  
+-----------+---------+------------------+  
1 row in set (0.00 sec)  
```  


2.  

另外一种添加用户的方法为通过SQL的 GRANT 命令，以下命令会给指定数据库TUTORIALS添加用户 zara ，密码为 zara123 。  

``` n1ql
root@host# mysql -u root -p  
Enter password:*******  
mysql> use mysql;  
Database changed  

mysql> GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP  
    -> ON TUTORIALS.*  
    -> TO 'zara'@'localhost'  
    -> IDENTIFIED BY 'zara123';  
```

以上命令会在mysql数据库中的user表创建一条用户信息记录。  

3.  
查看 MySQL 用户权限  

``` sql
show grants;
```

4.  
查看其他 MySQL 用户权限：  

``` sql
show grants for dba@localhost;
```

----------

### 4. 管理数据库命令  

1.  

USE 数据库名 :  
选择要操作的Mysql数据库，使用该命令后所有Mysql命令都只针对该数据库。  

``` php
mysql> use RUNOOB;  
Database changed  
```

2.  
SHOW TABLES:  
显示指定数据库的所有表，使用该命令前需要使用 use 命令来选择要操作的数据库。  

``` asciidoc
mysql> use RUNOOB;  
Database changed  
mysql> SHOW TABLES;  
+------------------+  
| Tables_in_runoob |  
+------------------+  
| employee_tbl     |  
| runoob_tbl       |  
| tcount_tbl       |  
+------------------+  
3 rows in set (0.00 sec)  
```

3.  

SHOW COLUMNS FROM 数据表:
显示数据表的属性，属性类型，主键信息 ，是否为 NULL，默认值等其他信息。

``` gherkin
mysql> SHOW COLUMNS FROM runoob_tbl;  
+-----------------+--------------+------+-----+---------+-------+  
| Field           | Type         | Null | Key | Default | Extra |  
+-----------------+--------------+------+-----+---------+-------+  
| runoob_id       | int(11)      | NO   | PRI | NULL    |       |  
| runoob_title    | varchar(255) | YES  |     | NULL    |       |  
| runoob_author   | varchar(255) | YES  |     | NULL    |       |  
| submission_date | date         | YES  |     | NULL    |       |  
+-----------------+--------------+------+-----+---------+-------+  
4 rows in set (0.01 sec)  
```

4. 
SHOW INDEX FROM 数据表:  
显示数据表的详细索引信息，包括PRIMARY KEY（主键）。  

``` jboss-cli
mysql> SHOW INDEX FROM runoob_tbl;  
+------------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+  
| Table      | Non_unique | Key_name | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment |  
+------------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+  
| runoob_tbl |          0 | PRIMARY  |            1 | runoob_id   | A         |           2 |     NULL | NULL   |      | BTREE      |         |               |  
+------------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+  
1 row in set (0.00 sec)  
```

5.  
SHOW TABLE STATUS LIKE [FROM db_name] [LIKE 'pattern'] \G:   
该命令将输出Mysql数据库管理系统的性能及统计信息。  

``` gams
mysql> SHOW TABLE STATUS  FROM RUNOOB;   # 显示数据库 RUNOOB 中所有表的信息  

mysql> SHOW TABLE STATUS from RUNOOB LIKE 'runoob%';     # 表名以runoob开头的表的信息  
mysql> SHOW TABLE STATUS from RUNOOB LIKE 'runoob%'\G;   # 加上 \G，查询结果按列打印  
```

----------

### 5. 创建数据库

1.  
我们可以在登陆 MySQL 服务后，使用 create 命令创建数据库，语法如下:  

``` sql
CREATE DATABASE 数据库名;  
```

2.  
使用 mysqladmin 创建数据库  
使用普通用户，你可能需要特定的权限来创建或者删除 MySQL 数据库。  

所以我们这边使用root用户登录，root用户拥有最高权限，可以使用 mysql mysqladmin 命令来创建数据库。  

以下命令简单的演示了创建数据库的过程，数据名为 RUNOOB:  

``` elixir
[root@host]# mysqladmin -u root -p create RUNOOB  
Enter password:******  
```

以上命令执行成功后会创建 MySQL 数据库 RUNOOB。  

3.  
drop 命令删除数据库  

``` sql
drop 命令格式：

drop database <数据库名>;
```

4.  
使用 mysqladmin 删除数据库  
你也可以使用 mysql mysqladmin 命令在终端来执行删除命令。  

以下实例删除数据库 RUNOOB(该数据库在前一章节已创建)：  

``` elixir
[root@host]# mysqladmin -u root -p drop RUNOOB  
Enter password:******  
```

执行以上删除数据库命令后，会出现一个提示框，来确认是否真的删除数据库：  

``` sql
Dropping the database is potentially a very bad thing to do.  
Any data stored in the database will be destroyed.  

Do you really want to drop the 'RUNOOB' database [y/N] y  
Database "RUNOOB" dropped  
```

----------

### 6. 数据类型  
MySQL支持多种类型，大致可以分为三类：数值、日期/时间和字符串(字符)类型。  

1.  
数值类型  

MySQL支持所有标准SQL数值数据类型。  

这些类型包括严格数值数据类型(INTEGER、SMALLINT、DECIMAL和NUMERIC)，以及近似数值数据类型(FLOAT、REAL和DOUBLE PRECISION)。  

关键字INT是INTEGER的同义词，关键字DEC是DECIMAL的同义词。  

BIT数据类型保存位字段值，并且支持MyISAM、MEMORY、InnoDB和BDB表。  

作为SQL标准的扩展，MySQL也支持整数类型TINYINT、MEDIUMINT和BIGINT。下面的表显示了需要的每个整数类型的存储和范围。  

``` lsl
TINYINT	1 字节	(-128，127)	(0，255)	小整数值  
SMALLINT	2 字节	(-32 768，32 767)	(0，65 535)	大整数值  
MEDIUMINT	3 字节	(-8 388 608，8 388 607)	(0，16 777 215)	大整数值  
INT或INTEGER	4 字节	(-2 147 483 648，2 147 483 647)	(0，4 294 967 295)	大整数值  
BIGINT	8 字节	(-9 233 372 036 854 775 808，9 223 372 036 854 775 807)	(0，18 446 744 073 709 551 615)	极大整数值
FLOAT	4 字节	(-3.402 823 466 E+38，-1.175 494 351 E-38)，0，(1.175 494 351 E-38，3.402 823 466 351 E+38)	0，(1.175 494 351 E-38，3.402 823 466 E+38)	单精度
浮点数值
DOUBLE	8 字节	(-1.797 693 134 862 315 7 E+308，-2.225 073 858 507 201 4 E-308)，0，(2.225 073 858 507 201 4 E-308，1.797 693 134 862 315 7 E+308)	0，(2.225 073 858 507 201 4 E-308，1.797 693 134 862 315 7 E+308)	双精度
浮点数值
DECIMAL	对DECIMAL(M,D) ，如果M>D，为M+2否则为D+2	依赖于M和D的值	依赖于M和D的值	小数值


```

2.  


3.  


4.  
----------

### 7. 

1.  


2.  


3.  


4.  
----------

### 8. 

1.  


2.  


3.  


4.  
----------

### 9. 

1.  


2.  


3.  


4.  
----------

### 10. 


----------

### 11. 


----------

### 12. 


----------


## END

