> 链-比特币  
> 2018年11月04日 11时44分13秒  
> 03 篇  

### 比特币网络(bitcoin network) 

###### 1. p2p网络架构

 1. 比特币采用了基于国际互联网（Internet）的P2P（peer-to-peer）网络架构。

 2. P2P是指位于同一网络中的每台计算机都彼此对等，各个节点共同提供网络服务，不存在任何“特殊”节点。
 3. 每个网络节点以“扁平（flat）”的拓扑结构相互连通。 在P2P网络中不存在任何服务端（server）、中央化的服务、以及层级结构。P2P网络的节点之间交互运作、协同处理：每个节点在对外提供服务的同时也使用网络中其他节点所提供的服务。P2P网络也因此具有可靠性、去中心化，以 及开放性。
 4. 拓扑的含义，所谓“拓扑”就是**把实体抽象成与其大小、形状无关的“点”**，而把连接实体的线路抽象成“线”，**进而以图的形式来表示这些点与线之间关系的方法**，其目的在于研究这些点、线之间的相连关系。表示点和线之间关系的图被称为拓扑结构图。拓扑结构与几何结构属于两个不同的数学概念。
 5. 去中心化控制是设计时的核心原则，它只能通过维持一种扁平化、去中心化的**P2P共识网络**来实现。


###### 2. 节点类型及角色  
1. 尽管比特币P2P网络中的各个节点相互对等，**但是根据所提供的功能不同，各节点可能具有不同的角色**。每个比特币节点都是 **路由、区块链数据库、挖矿、钱包服务的功能集合** 。
2. 全节点（full node）:具有所有四个功能：钱包，矿工，完整的区块链数据库和网络路由  

    <img src="https://www.github.com/jixiyu/images3/raw/master/小书匠/1541306514457.png" width="300" hegiht="313" align="center" />  
    
      
      

3. 每个节点都参与全网络的路由功能,每个节点都参与验证并传播交易及区块信息，发现并维持与对等节点的连接。
4.  一些节点保有一份完整的、最新的区块链拷贝，这样的节点被称为“全节点”。**全节点能够独立自主地校验所有交易，而不需借由任何外部参照。**
5.  另外还有一些节点只保留了区块链的一部分，它们通过一种名为 **“简易支付验证（SPV）”的方 式来完成交易验证。这样的节点被称为“SPV节点”，又叫“轻量级节点”。**
6.  SPV节点没有此蓝色圆圈，以示它们没有区块链的完整拷贝。
7.  挖矿节点通过运行在特殊硬件设备上的工作量证明（proof-of-work）算法，以相互竞争的方式创建新的区块。**一些挖矿 节点同时也是全节点，保有区块链的完整拷贝；**
8.  **还有一些参与矿池挖矿的节点是轻量级节点**，它们必须**依赖矿池服务器维护的全节点**进行工作。在全节点用例中，挖矿功能如图中名为“矿工”的黑色圆圈字母“M”所示。

<img src="https://www.github.com/jixiyu/images3/raw/master/小书匠/1541307410049.png" width="500" hegiht="900" align="center" />    


##### 3.扩展比特币网络
1. 